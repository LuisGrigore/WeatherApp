(()=>{var n={FREEZING:"Freezing",COLD:"Cold",CHILLY:"Chilly",WARM:"Warm",HOT:"Hot",SCORCHING:"Scorching",UNKNOWN:"Unknown"};var g="Sorry Something Went Wrong",l=document.querySelector(".temp p"),i=document.querySelector(".loc p"),m=document.querySelector(".time p"),f=document.querySelector(".condition p"),d=document.querySelector(".search_field"),p=document.querySelector("form");d.value="Madrid";var y=new Map;y.set("Quijorna",[40.4276,-4.0568]);var S=async(e,t)=>{try{let r=await(await fetch(N(e,t))).json(),c=r.current.temperature_2m,a=C(r.current.time),s=F(c);u(c,d.value,a,s)}catch(o){console.error(o),u(g,"","",n.UNKNOWN)}};function N(e,t){return"https://api.open-meteo.com/v1/forecast?latitude="+e+"&longitude="+t+"&current=temperature_2m&forecast_days=1&models=jma_seamless"}function C(e){if(!e)return"";let t=new Date(e),o=t.getDate(),c=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.getMonth()],a=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${o} ${c}, ${a}:${s}`}function L(e){document.body.className="",e&&document.body.classList.add(e.toLowerCase())}function O(){let e=document.querySelector(".weather_container");e.classList.add("fade"),setTimeout(()=>e.classList.remove("fade"),500)}function T(e){switch(e){case n.FREEZING:return"\u2744\uFE0F";case n.COLD:return"\u{1F976}";case n.CHILLY:return"\u{1F32C}\uFE0F";case n.WARM:return"\u{1F324}\uFE0F";case n.HOT:return"\u2600\uFE0F";case n.SCORCHING:return"\u{1F525}";default:return"\u2753"}}function u(e,t,o,r){try{l.innerText=e+"\xBA",i.innerText=t,m.innerText=o,f.innerText=`${r} ${T(r)}`}catch(c){console.error(c),l.innerText=g,i.innerText="",m.innerText="",f.innerText=""}L(r),O()}function F(e){return e<=0?n.FREEZING:e<=10?n.COLD:e<=15?n.CHILLY:e<=25?n.WARM:e<35?n.HOT:n.SCORCHING}async function h(e){e.preventDefault();let t=d.value.trim();if(!t){u("Not Found","","","");return}try{let r=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${t}&count=1`)).json();if(!r.results||r.results.length===0){u("Not Found","","","");return}let{latitude:c,longitude:a,name:s}=r.results[0];S(c,a),i.innerText=s}catch(o){console.error(o),u("Error","","","")}}p.addEventListener("submit",h);h();})();
